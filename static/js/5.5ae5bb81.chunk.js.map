{"version":3,"sources":["components/Page/styles.js","components/Page/index.js","components/Page/PageContent/styles.js","components/Page/PageContent/index.js","pages/NotFound/index.js","assets/logo.svg","components/AppFrame/styles.js","components/AppFrame/index.js","components/Card/styles.js","components/Card/index.js","pages/SearchPage/styles.js","pages/SearchPage/index.js","routes/search.js"],"names":["styles","root","position","height","overflow","useStyles","makeStyles","Page","children","disableGutter","noHeader","classes","className","classnames","theme","PageContent","NotFound","redirect","history","useHistory","useEffect","replace","variant","flexGrow","zIndex","display","content","overflowX","backgroundColor","palette","background","default","appBar","boxShadow","borderBottom","primary","main","AppFrame","AppBar","Toolbar","to","src","logo","width","alt","Typography","maxWidth","margin","expand","transform","marginLeft","transition","transitions","create","duration","shortest","expandOpen","avatar","color","EnhancedCard","fullName","description","updatedAt","language","htmlUrl","homepage","forks","watchers","props","useState","expanded","setExpanded","Grid","item","md","Card","CardHeader","Avatar","aria-label","upperCase","substring","title","subheader","CardContent","component","CardActions","disableSpacing","IconButton","classNames","onClick","aria-expanded","Collapse","in","timeout","unmountOnExit","paragraph","Button","size","footer","SearchPage","dispatch","useDispatch","inputValue","setInputValue","items","useSelector","state","search","isLoading","timerRef","useRef","executedMapRef","footerRef","observer","IntersectionObserver","handleObserver","INTERSECTION_OBSERVER_OPTIONS","current","observe","entries","forEach","entry","intersectionRatio","disconnect","loadMoreRepositories","TextField","id","label","value","onChange","event","target","window","clearTimeout","setTimeout","a","searchRepositories","WAIT_DURATION","fullWidth","InputLabelProps","shrink","container","spacing","justify","map","full_name","format","Date","updated_at","UPDATED_TIME_FORMAT","html_url","shortid","generate","CircularProgress","ref","ErrorRouter","url","useRouteMatch","exact","path"],"mappings":"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","file":"static/js/5.5ae5bb81.chunk.js","sourcesContent":["const styles = () => ({\n  root: {\n    position: 'relative',\n    height: 'calc(100% - 72px)',\n    overflow: 'auto',\n  },\n});\n\nexport default styles;\n","import React from 'react';\n\nimport classnames from 'classnames';\n\nimport { makeStyles } from '@material-ui/styles';\n\nimport styles from './styles';\n\nconst useStyles = makeStyles(styles);\n\nconst Page = ({ children, disableGutter = false, noHeader = false }) => {\n  const classes = useStyles();\n  return <main className={classnames(classes.root, { 'px-3': !disableGutter, 'mt-9': !noHeader })}>{children}</main>;\n};\n\nexport default Page;\n","const styles = theme => ({\n  root: {\n    height: '100%',\n  },\n});\n\nexport default styles;\n","import React from 'react';\n\nimport { makeStyles } from '@material-ui/styles';\n\nimport styles from './styles';\n\nconst useStyles = makeStyles(styles);\n\nconst PageContent = ({ children, className = '' }) => {\n  const classes = useStyles();\n  return <section className={`${classes.root} ${className}`}>{children}</section>;\n};\n\nexport default PageContent;\n","import React, { useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport Typography from '@material-ui/core/Typography';\n\nimport Page from '@/components/Page';\nimport PageContent from '@/components/Page/PageContent';\n\nconst NotFound = ({ redirect }) => {\n  const history = useHistory();\n\n  useEffect(() => {\n    if (redirect) {\n      history.replace(redirect);\n    }\n  }, []);\n\n  return (\n    <Page>\n      <PageContent>\n        <div className=\"mt-2\">\n          <Typography variant=\"h5\">Page Not Found</Typography>\n          {redirect && <Typography variant=\"body1\">Redirecting...</Typography>}\n        </div>\n      </PageContent>\n    </Page>\n  );\n};\n\nexport default NotFound;\n","export default __webpack_public_path__ + \"static/media/logo.50e3ed80.svg\";","const styles = theme => ({\n  root: {\n    flexGrow: 1,\n    height: '100vh',\n    zIndex: 1,\n    overflow: 'hidden',\n    position: 'relative',\n    display: 'flex',\n  },\n  content: {\n    flexGrow: 1,\n    overflowX: 'auto',\n    backgroundColor: theme.palette.background.default,\n    height: '100%',\n    position: 'relative',\n  },\n  appBar: {\n    boxShadow: 'none',\n    zIndex: 1300,\n    height: 72,\n    borderBottom: `1px solid ${theme.palette.primary.main}`,\n  },\n});\n\nexport default styles;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/styles';\n\nimport logo from '@/assets/logo.svg';\nimport styles from './styles';\n\nconst useStyles = makeStyles(styles);\n\nconst AppFrame = ({ children }) => {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <AppBar position=\"fixed\" className={classes.appBar}>\n        <Toolbar className=\"justify-space-between\">\n          <Link to=\"/\">\n            <img src={logo} width=\"48\" height=\"48\" alt=\"logo\" />\n          </Link>\n          <Typography variant=\"h6\">Github Repositories Searching</Typography>\n        </Toolbar>\n      </AppBar>\n      <div className={classes.content}>{children}</div>\n    </div>\n  );\n};\n\nexport default AppFrame;\n","const styles = theme => ({\n  root: {\n    maxWidth: 600,\n    margin: 12,\n  },\n  expand: {\n    transform: 'rotate(0deg)',\n    marginLeft: 'auto',\n    transition: theme.transitions.create('transform', {\n      duration: theme.transitions.duration.shortest,\n    }),\n  },\n  expandOpen: {\n    transform: 'rotate(180deg)',\n  },\n  avatar: {\n    color: 'white',\n    backgroundColor: theme.palette.primary.main,\n  },\n});\n\nexport default styles;\n","import React, { useState } from 'react';\n\nimport classNames from 'classnames';\nimport upperCase from 'lodash/upperCase';\n\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport Collapse from '@material-ui/core/Collapse';\nimport Grid from '@material-ui/core/Grid';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport ShareIcon from '@material-ui/icons/Share';\nimport { makeStyles } from '@material-ui/styles';\n\nimport styles from './styles';\n\nconst useStyles = makeStyles(styles);\n\nconst EnhancedCard = ({ fullName, description, updatedAt, htmlUrl, homepage, language, forks, watchers, ...props }) => {\n  const classes = useStyles();\n\n  const [expanded, setExpanded] = useState(false);\n\n  const handleExpandClick = () => {\n    setExpanded(!expanded);\n  };\n\n  return (\n    <Grid item md={4}>\n      <Card className={classes.root} {...props}>\n        <CardHeader\n          avatar={\n            <Avatar aria-label=\"recipe\" className={classes.avatar}>\n              {upperCase(fullName.substring(0, 1))}\n            </Avatar>\n          }\n          title={fullName}\n          subheader={updatedAt}\n        />\n        <CardContent>\n          <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n            {description}\n          </Typography>\n        </CardContent>\n        <CardActions disableSpacing>\n          <IconButton aria-label=\"add to favorites\">\n            <FavoriteIcon />\n          </IconButton>\n          <IconButton aria-label=\"share\">\n            <ShareIcon />\n          </IconButton>\n          <IconButton\n            className={classNames(classes.expand, {\n              [classes.expandOpen]: expanded,\n            })}\n            onClick={handleExpandClick}\n            aria-expanded={expanded}\n            aria-label=\"show more\"\n          >\n            <ExpandMoreIcon />\n          </IconButton>\n        </CardActions>\n        <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\n          <CardContent>\n            <Typography paragraph>語言:{language}</Typography>\n            <Typography paragraph>星星數:{watchers}</Typography>\n            <Typography paragraph>Fork數:{forks}</Typography>\n          </CardContent>\n          <CardActions>\n            <Button size=\"small\" color=\"primary\">\n              Share\n            </Button>\n            <Button size=\"small\" color=\"primary\">\n              Learn More\n            </Button>\n          </CardActions>\n        </Collapse>\n      </Card>\n    </Grid>\n  );\n};\n\nexport default EnhancedCard;\n","const styles = theme => ({\n  root: {},\n  footer: {\n    height: 20,\n  },\n});\n\nexport default styles;\n","import React, { useEffect, useRef, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport format from 'date-fns/format';\nimport shortid from 'shortid';\n\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Grid from '@material-ui/core/Grid';\nimport TextField from '@material-ui/core/TextField';\nimport { makeStyles } from '@material-ui/styles';\n\nimport Card from '@/components/Card';\nimport Page from '@/components/Page';\nimport PageContent from '@/components/Page/PageContent';\nimport { INTERSECTION_OBSERVER_OPTIONS, UPDATED_TIME_FORMAT, WAIT_DURATION } from '@/constants/config';\nimport { loadMoreRepositories, searchRepositories } from '@/redux/slices/search';\nimport styles from './styles';\n\nconst useStyles = makeStyles(styles);\n\nconst SearchPage = () => {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n\n  const [inputValue, setInputValue] = useState('');\n\n  const items = useSelector(state => state.search.items);\n  const isLoading = useSelector(state => state.search.isLoading);\n\n  const timerRef = useRef(void 0); // Set the timer to watch the gap of user input\n  const executedMapRef = useRef(''); // Set the map to record the input value, avoid duplicated searching\n  const footerRef = useRef(null); // Add footer element reference\n\n  useEffect(() => {\n    // initialize IntersectionObserver\n    // and attaching to Load More div\n    const observer = new IntersectionObserver(handleObserver, INTERSECTION_OBSERVER_OPTIONS);\n    if (footerRef.current) {\n      observer.observe(footerRef.current);\n    }\n  }, [items]);\n\n  const handleChangeInputValue = event => {\n    const inputValue = event.target.value;\n    setInputValue(inputValue);\n\n    // Start lazy input\n    if (timerRef.current) {\n      window.clearTimeout(timerRef.current);\n    }\n    timerRef.current = window.setTimeout(async () => {\n      timerRef.current = void 0;\n      if (!inputValue || executedMapRef.current === inputValue) {\n        return;\n      }\n      executedMapRef.current = inputValue; // Record the current input value in the map\n      dispatch(searchRepositories({ inputValue }));\n    }, WAIT_DURATION);\n  };\n\n  const handleObserver = (entries, observer) => {\n    entries.forEach(entry => {\n      // How much of the target element is currently visible within the root's intersection ratio\n      // Setting this can avoid calling duplicated action when element move out the windows (intersectionRatio = 0)\n      if (entry.intersectionRatio === 1) {\n        observer.disconnect();\n        dispatch(loadMoreRepositories());\n      }\n    });\n  };\n\n  return (\n    <Page>\n      <PageContent>\n        <div className={classes.root}>\n          <div>\n            <TextField\n              id=\"inputValue\"\n              label=\"搜尋\"\n              variant=\"outlined\"\n              value={inputValue}\n              onChange={handleChangeInputValue}\n              fullWidth\n              margin=\"normal\"\n              InputLabelProps={{\n                shrink: true,\n              }}\n            />\n          </div>\n          <div>\n            <Grid container spacing={1} justify=\"center\">\n              {!!items &&\n                items.map(item => (\n                  <Card\n                    key={shortid.generate()}\n                    fullName={item.full_name}\n                    description={item.description}\n                    updatedAt={format(new Date(item.updated_at), UPDATED_TIME_FORMAT)}\n                    htmlUrl={item.html_url}\n                    homepage={item.homepage}\n                    language={item.language}\n                    forks={item.forks}\n                    watchers={item.watchers}\n                  />\n                ))}\n            </Grid>\n          </div>\n          {isLoading && (\n            <div className=\"my-2 justify-center d-flex\">\n              <CircularProgress size={80} />\n            </div>\n          )}\n          <div className={classes.footer} ref={footerRef} />\n        </div>\n      </PageContent>\n    </Page>\n  );\n};\n\nexport default SearchPage;\n","import React from 'react';\nimport { Route, Switch, useRouteMatch } from 'react-router-dom';\n\nimport AppFrame from '@/components/AppFrame';\nimport NotFound from '@/pages/NotFound';\nimport SearchPage from '@/pages/SearchPage';\n\nconst ErrorRouter = () => {\n  const { url } = useRouteMatch();\n\n  return (\n    <AppFrame>\n      <Switch>\n        <Route exact path={url} component={SearchPage} />\n        <Route component={NotFound} />\n      </Switch>\n    </AppFrame>\n  );\n};\n\nexport default ErrorRouter;\n"],"sourceRoot":""}