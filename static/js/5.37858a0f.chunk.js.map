{"version":3,"sources":["components/Page/styles.js","components/Page/index.js","components/Page/PageContent/styles.js","components/Page/PageContent/index.js","pages/NotFound/index.js","assets/logo.svg","components/AppFrame/styles.js","components/AppFrame/index.js","components/Card/styles.js","components/Card/index.js","pages/SearchPage/styles.js","pages/SearchPage/index.js","routes/search.js"],"names":["styles","root","position","height","overflow","useStyles","makeStyles","Page","children","disableGutter","noHeader","classes","className","classnames","theme","PageContent","NotFound","redirect","history","useHistory","useEffect","replace","variant","flexGrow","zIndex","display","content","overflowX","backgroundColor","palette","background","default","appBar","boxShadow","borderBottom","primary","main","AppFrame","AppBar","Toolbar","to","src","logo","width","alt","Typography","maxWidth","margin","expand","transform","marginLeft","transition","transitions","create","duration","shortest","expandOpen","avatar","EnhancedCard","fullName","description","updatedAt","language","htmlUrl","homepage","forks","watchers","props","useState","expanded","setExpanded","Grid","item","md","Card","CardHeader","Avatar","aria-label","upperCase","substring","title","subheader","CardContent","color","component","CardActions","disableSpacing","IconButton","classNames","onClick","aria-expanded","Collapse","in","timeout","unmountOnExit","paragraph","Button","size","SearchPage","dispatch","useDispatch","inputValue","setInputValue","searchData","useSelector","state","search","data","timerRef","useRef","executedMapRef","loader","observer","IntersectionObserver","handleObserver","INTERSECTION_OBSERVER_OPTIONS","current","observe","loadMoreRepositories","noValidate","autoComplete","TextField","id","label","value","onChange","event","target","window","clearTimeout","setTimeout","a","searchRepositories","WAIT_DURATION","fullWidth","InputLabelProps","shrink","container","spacing","justify","items","map","full_name","format","Date","updated_at","UPDATED_TIME_FORMAT","html_url","ref","ErrorRouter","url","useRouteMatch","exact","path"],"mappings":"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","file":"static/js/5.37858a0f.chunk.js","sourcesContent":["const styles = () => ({\n  root: {\n    position: 'relative',\n    height: 'calc(100% - 72px)',\n    overflow: 'auto',\n  },\n});\n\nexport default styles;\n","import React from 'react';\n\nimport classnames from 'classnames';\n\nimport { makeStyles } from '@material-ui/styles';\n\nimport styles from './styles';\nconst useStyles = makeStyles(styles);\n\nconst Page = ({ children, disableGutter = false, noHeader = false }) => {\n  const classes = useStyles();\n  return <main className={classnames(classes.root, { 'px-3': !disableGutter, 'mt-9': !noHeader })}>{children}</main>;\n};\n\nexport default Page;\n","const styles = theme => ({\n  root: {\n    height: '100%',\n  },\n});\n\nexport default styles;\n","import React from 'react';\n\nimport { makeStyles } from '@material-ui/styles';\n\nimport styles from './styles';\nconst useStyles = makeStyles(styles);\n\nconst PageContent = ({ children, className = '' }) => {\n  const classes = useStyles();\n  return <section className={`${classes.root} ${className}`}>{children}</section>;\n};\n\nexport default PageContent;\n","import React, { useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport Typography from '@material-ui/core/Typography';\n\nimport Page from '@/components/Page';\nimport PageContent from '@/components/Page/PageContent';\n\nconst NotFound = ({ redirect }) => {\n  const history = useHistory();\n\n  useEffect(() => {\n    if (redirect) {\n      history.replace(redirect);\n    }\n  }, []);\n\n  return (\n    <Page>\n      <PageContent>\n        <div className=\"mt-2\">\n          <Typography variant=\"h5\">Page Not Found</Typography>\n          {redirect && <Typography variant=\"body1\">Redirecting...</Typography>}\n        </div>\n      </PageContent>\n    </Page>\n  );\n};\n\nexport default NotFound;\n","export default __webpack_public_path__ + \"static/media/logo.50e3ed80.svg\";","const styles = theme => ({\n  root: {\n    flexGrow: 1,\n    height: '100vh',\n    zIndex: 1,\n    overflow: 'hidden',\n    position: 'relative',\n    display: 'flex',\n  },\n  content: {\n    flexGrow: 1,\n    overflowX: 'auto',\n    backgroundColor: theme.palette.background.default,\n    height: '100%',\n    position: 'relative',\n  },\n  appBar: {\n    boxShadow: 'none',\n    zIndex: 1300,\n    height: 72,\n    borderBottom: `1px solid ${theme.palette.primary.main}`,\n  },\n});\n\nexport default styles;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/styles';\n\nimport logo from '@/assets/logo.svg';\nimport styles from './styles';\nconst useStyles = makeStyles(styles);\n\nconst AppFrame = ({ children }) => {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <AppBar position=\"fixed\" className={classes.appBar}>\n        <Toolbar className=\"justify-space-between\">\n          <Link to=\"/\">\n            <img src={logo} width=\"48\" height=\"48\" alt=\"logo\" />\n          </Link>\n          <Typography variant=\"h6\">Github Repositories Searching</Typography>\n        </Toolbar>\n      </AppBar>\n      <div className={classes.content}>{children}</div>\n    </div>\n  );\n};\n\nexport default AppFrame;\n","const styles = theme => ({\n  root: {\n    maxWidth: 600,\n    margin: 12,\n  },\n  expand: {\n    transform: 'rotate(0deg)',\n    marginLeft: 'auto',\n    transition: theme.transitions.create('transform', {\n      duration: theme.transitions.duration.shortest,\n    }),\n  },\n  expandOpen: {\n    transform: 'rotate(180deg)',\n  },\n  avatar: {\n    backgroundColor: theme.palette.primary.main,\n  },\n});\n\nexport default styles;\n","import React, { useState } from 'react';\n\nimport classNames from 'classnames';\nimport upperCase from 'lodash/upperCase';\n\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport Collapse from '@material-ui/core/Collapse';\nimport Grid from '@material-ui/core/Grid';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport ShareIcon from '@material-ui/icons/Share';\nimport { makeStyles } from '@material-ui/styles';\n\nimport styles from './styles';\n\nconst useStyles = makeStyles(styles);\n\nconst EnhancedCard = ({ fullName, description, updatedAt, htmlUrl, homepage, language, forks, watchers, ...props }) => {\n  const classes = useStyles();\n\n  const [expanded, setExpanded] = useState(false);\n\n  const handleExpandClick = () => {\n    setExpanded(!expanded);\n  };\n\n  return (\n    <Grid item md={4}>\n      <Card className={classes.root} {...props}>\n        <CardHeader\n          avatar={\n            <Avatar aria-label=\"recipe\" className={classes.avatar}>\n              {upperCase(fullName.substring(0, 1))}\n            </Avatar>\n          }\n          title={fullName}\n          subheader={updatedAt}\n        />\n        <CardContent>\n          <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n            {description}\n          </Typography>\n        </CardContent>\n        <CardActions disableSpacing>\n          <IconButton aria-label=\"add to favorites\">\n            <FavoriteIcon />\n          </IconButton>\n          <IconButton aria-label=\"share\">\n            <ShareIcon />\n          </IconButton>\n          <IconButton\n            className={classNames(classes.expand, {\n              [classes.expandOpen]: expanded,\n            })}\n            onClick={handleExpandClick}\n            aria-expanded={expanded}\n            aria-label=\"show more\"\n          >\n            <ExpandMoreIcon />\n          </IconButton>\n        </CardActions>\n        <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\n          <CardContent>\n            <Typography paragraph>語言:{language}</Typography>\n            <Typography paragraph>星星數:{watchers}</Typography>\n            <Typography paragraph>Fork數:{forks}</Typography>\n          </CardContent>\n          <CardActions>\n            <Button size=\"small\" color=\"primary\">\n              Share\n            </Button>\n            <Button size=\"small\" color=\"primary\">\n              Learn More\n            </Button>\n          </CardActions>\n        </Collapse>\n      </Card>\n    </Grid>\n  );\n};\n\nexport default EnhancedCard;\n","const styles = theme => ({\n  root: {},\n});\n\nexport default styles;\n","import React, { useEffect, useRef, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport format from 'date-fns/format';\n\nimport Grid from '@material-ui/core/Grid';\nimport TextField from '@material-ui/core/TextField';\nimport { makeStyles } from '@material-ui/styles';\n\nimport Card from '@/components/Card';\nimport Page from '@/components/Page';\nimport PageContent from '@/components/Page/PageContent';\nimport { INTERSECTION_OBSERVER_OPTIONS, UPDATED_TIME_FORMAT, WAIT_DURATION } from '@/constants/config';\nimport { loadMoreRepositories, searchRepositories } from '@/redux/slices/search';\nimport styles from './styles';\nconst useStyles = makeStyles(styles);\n\nconst SearchPage = () => {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n\n  const [inputValue, setInputValue] = useState('');\n\n  const searchData = useSelector(state => state.search.data);\n\n  const timerRef = useRef(void 0); // Set the timer to watch the gap of user input\n  const executedMapRef = useRef(''); // Set the map to record the input value, avoid duplicated searching\n  const loader = useRef(null); // Add loader reference\n\n  useEffect(() => {\n    // initialize IntersectionObserver\n    // and attaching to Load More div\n    const observer = new IntersectionObserver(handleObserver, INTERSECTION_OBSERVER_OPTIONS);\n    if (loader.current) {\n      observer.observe(loader.current);\n    }\n  }, []);\n\n  // TODO: fix too much event in same time\n  // TODO: fix fire the event before search\n  const handleChangeInputValue = event => {\n    const inputValue = event.target.value;\n    setInputValue(inputValue);\n\n    // Start lazy input\n    if (timerRef.current) {\n      window.clearTimeout(timerRef.current);\n    }\n    timerRef.current = window.setTimeout(async () => {\n      timerRef.current = void 0;\n      if (!inputValue || executedMapRef.current === inputValue) {\n        return;\n      }\n      executedMapRef.current = inputValue; // Record the current input value in the map\n      dispatch(searchRepositories({ inputValue }));\n    }, WAIT_DURATION);\n  };\n\n  const handleObserver = () => {\n    dispatch(loadMoreRepositories());\n  };\n\n  return (\n    <Page>\n      <PageContent>\n        <div className={classes.root}>\n          <div>\n            <form noValidate autoComplete=\"off\">\n              <TextField\n                id=\"inputValue\"\n                label=\"搜尋\"\n                variant=\"outlined\"\n                value={inputValue}\n                onChange={handleChangeInputValue}\n                fullWidth\n                margin=\"normal\"\n                InputLabelProps={{\n                  shrink: true,\n                }}\n              />\n            </form>\n          </div>\n          <div>\n            <Grid container spacing={1} justify=\"center\">\n              {!!searchData &&\n                searchData.items.map(item => (\n                  // TODO: duplicated key issue\n                  <Card\n                    key={item.id}\n                    fullName={item.full_name}\n                    description={item.description}\n                    updatedAt={format(new Date(item.updated_at), UPDATED_TIME_FORMAT)}\n                    htmlUrl={item.html_url}\n                    homepage={item.homepage}\n                    language={item.language}\n                    forks={item.forks}\n                    watchers={item.watchers}\n                  />\n                ))}\n            </Grid>\n          </div>\n          <div className=\"loading\" ref={loader}>\n            <h2>Load More</h2>\n          </div>\n        </div>\n      </PageContent>\n    </Page>\n  );\n};\n\nexport default SearchPage;\n","import React from 'react';\nimport { Route, Switch, useRouteMatch } from 'react-router-dom';\n\nimport AppFrame from '@/components/AppFrame';\nimport NotFound from '@/pages/NotFound';\nimport SearchPage from '@/pages/SearchPage';\n\nconst ErrorRouter = () => {\n  const { url } = useRouteMatch();\n\n  return (\n    <AppFrame>\n      <Switch>\n        <Route exact path={url} component={SearchPage} />\n        <Route component={NotFound} />\n      </Switch>\n    </AppFrame>\n  );\n};\n\nexport default ErrorRouter;\n"],"sourceRoot":""}